<?xml version="1.0" encoding="UTF-8"?>
<entity-facade-xml type="ext-upgrade">

    <moqui.basic.Enumeration enumId="GEN_TO_REC_FD" enumCode="GEN_TO_REC_FD" description="Generate Transfer Order Completed Items Reconciliation Feed" enumTypeId="ORDER_SYS_JOB"/>
    <Product productId="GEN_TO_REC_FD" productTypeId="SERVICE" internalName="GEN_TO_REC_FD"
             productName="Generate Transfer Order Completed Items Reconciliation Feed" description="Generate Transfer Order Completed Items Reconciliation Feed"
             primaryProductCategoryId="ORDER_SYS_JOB"/>
    <ProductCategoryMember productId="GEN_TO_REC_FD" productCategoryId="ORDER_SYS_JOB" fromDate="2024-01-01 00:00:00.0"/>
    <ProductCategoryMember productId="GEN_TO_REC_FD" productCategoryId="UPLOAD_SYS_JOB" fromDate="2024-01-01 00:00:00.0"/>

    <!-- Template Service Job to generate Transfer Order Completed Items Reconciliation Feed from HotWax -->
    <moqui.service.job.ServiceJob jobName="generate_TransferOrderReconciliationFeed" jobTypeEnumId="GEN_TO_REC_FD"
                                  description="Template Service Job to generate the Transfer Order Completed Items Reconciliation Feed from HotWax" instanceOfProductId="GEN_TO_REC_FD"
                                  serviceName="co.hotwax.netsuite.TransferOrderServices.generate#TransferOrderReconciliationFeed"
                                  cronExpression="0 0 * * * ?" paused="Y">
        <parameters parameterName="systemMessageTypeId" parameterValue="TransferOrderReconciliationFeed"/>
        <parameters parameterName="systemMessageRemoteId"/>
        <parameters parameterName="orderId"/>
        <parameters parameterName="sinceCompletedDate"/>
    </moqui.service.job.ServiceJob>

    <!-- System Message Type for Transfer Order Completed Items Reconciliation Feed -->
    <moqui.service.message.SystemMessageType systemMessageTypeId="TransferOrderReconciliationFeed"
             description="Generate HotWax Transfer Order Completed Items Reconciliation Feed"
             parentTypeId="LocalFeedFile"
             sendPath="/home/${sftpUsername}/netsuite/transferorderv2/export/reconciliation/TransferOrderReconciliationFeed-${dateTime}-${systemMessageId}.json"
             sendServiceName="co.hotwax.ofbiz.SystemMessageServices.send#SystemMessageFileSftp"
             receivePath="${contentRoot}/netsuite/TransferOrderReconciliationFeed/TransferOrderReconciliationFeed-${dateTime}.json"/>
    <moqui.basic.Enumeration enumId="GEN_TO_ITEM_CLOSURE_FD" enumCode="GEN_TO_ITEM_CLOSURE_FD" description="Generate Transfer Order Item Closure Feed" enumTypeId="ORDER_SYS_JOB"/>

    <Product productId="GEN_TO_ITEM_CLOSURE_FD" productTypeId="SERVICE" internalName="GEN_TO_ITEM_CLOSURE_FD"
        productName="Generate Transfer Order Item Closure Feed" description="Generate Transfer Order Item Closure Feed"
        primaryProductCategoryId="ORDER_SYS_JOB"/>

    <ProductCategoryMember productId="GEN_TO_ITEM_CLOSURE_FD" productCategoryId="ORDER_SYS_JOB" fromDate="2024-01-01 00:00:00.0"/>

    <moqui.service.job.ServiceJob jobName="Generate_TO_Item_Closure_Feed" instanceOfProductId="GEN_TO_ITEM_CLOSURE_FD" jobTypeEnumId="GEN_TO_ITEM_CLOSURE_FD"
        description="Service to generate feed file for NetSuite to close Transfer Order items that are completed in OMS"
        serviceName="co.hotwax.netsuite.TransferOrderServices.generate#CompletedTransferOrderItemsFeed"
        cronExpression="0 0 1 * * ?" paused="Y">
        <parameters parameterName="systemMessageRemoteId"/>
        <parameters parameterName="filePathPattern" parameterValue="netsuite/transferorderv2/update"/>
        <parameters parameterName="orderId"/>
        <parameters parameterName="completedDate"/>
        <parameters parameterName="recordLimitPerFeed" parameterValue="1000"/>
        <parameters parameterName="jobName" parameterValue="Generate_TO_Item_Closure_Feed"/>
        <parameters parameterName="skipLastRunTimeUpdate" parameterValue="false"/>
        <parameters parameterName="lastRunTime"/>
    </moqui.service.job.ServiceJob>

    <moqui.basic.Enumeration enumId="GEN_TO_MSHIP_ADJ_FD" enumCode="GEN_TO_MSHIP_ADJ_FD" description="Generate Transfer Order MisShipped Receipt Inv Adj Feed" enumTypeId="INVENTORY_SYS_JOB"/>

    <Product productId="GEN_TO_MSHIP_ADJ_FD" productTypeId="SERVICE" internalName="GEN_TO_MSHIP_ADJ_FD"
             productName="Generate Transfer Order MisShipped Receipt Inv Adj Feed" description="Generate Transfer Order MisShipped Receipt Inv Adj Feed"
             primaryProductCategoryId="INVENTORY_SYS_JOB"/>

    <ProductCategoryMember productId="GEN_TO_MSHIP_ADJ_FD" productCategoryId="INVENTORY_SYS_JOB" fromDate="2024-01-01 00:00:00.0"/>
    <ProductCategoryMember productId="GEN_TO_MSHIP_ADJ_FD" productCategoryId="UPLOAD_SYS_JOB" fromDate="2024-01-01 00:00:00.0"/>

    <moqui.service.job.ServiceJob jobName="Generate_TransferOrder_MisShipped_Rcpt_Feed" instanceOfProductId="GEN_TO_MSHIP_ADJ_FD" jobTypeEnumId="GEN_TO_MSHIP_ADJ_FD"
            description="Service to generate Inventory Adjustment Feed file for the Mis-shipped items received as part of the Transfer Orders for NetSuite"
            serviceName="co.hotwax.netsuite.TransferOrderServices.generate#TransferOrderMisShippedReceiptAdjFeed"
            cronExpression="0 0 0 * * ?" paused="Y">
        <parameters parameterName="filePathPattern" parameterValue="netsuite/inventoryadjustment/csv"/>
        <parameters parameterName="systemMessageRemoteId"/>
        <parameters parameterName="adjustmentAccount"/>
        <parameters parameterName="sinceDatetimeReceived"/>
        <parameters parameterName="orderId"/>
        <parameters parameterName="recordLimitPerFeed"/>
        <parameters parameterName="jobName"/>
        <parameters parameterName="skipLastRunTimeUpdate"/>
        <parameters parameterName="lastRunTime"/>
    </moqui.service.job.ServiceJob>

    <moqui.basic.Enumeration enumId="GEN_TO_ITEM_FD" enumCode="GEN_TO_ITEM_FD" description="Generate Transfer Order Items Feed Job" enumTypeId="ORDER_SYS_JOB"/>
    <Product productId="GEN_TO_ITEM_FD" productTypeId="SERVICE" internalName="GEN_TO_ITEM_FD"
             productName="NetSuite Import Update Transfer Order Job" description="Generate Transfer Order Items Feed Job"
             primaryProductCategoryId="ORDER_SYS_JOB"/>

    <ProductCategoryMember productId="GEN_TO_ITEM_FD" productCategoryId="GEN_TO_ITEM_FD" fromDate="2024-01-01 00:00:00.0"/>

    <!-- Template Service Job to generate Transfer Order Items Feed from HotWax to Netsuite -->
    <moqui.service.job.ServiceJob jobName="generate_TransferOrderItemsFeed" instanceOfProductId="GEN_TO_ITEM_FD" jobTypeEnumId="GEN_TO_ITEM_FD"
        description="Template Service Job to generate the Transfer Order Items Feed from HotWax"
        serviceName="co.hotwax.netsuite.TransferOrderServices.generate#TransferOrderItemsFeed"
        cronExpression="0 0 * * * ?" paused="Y">
        <parameters parameterName="filePathPattern" parameterValue="netsuite/transferorder/export"/>
        <parameters parameterName="systemMessageRemoteId"/>
        <parameters parameterName="orderId"/>
        <parameters parameterName="fromOrderDate"/>
        <parameters parameterName="thruOrderDate"/>
        <parameters parameterName="recordLimitPerFeed" parameterValue="500"/>
    </moqui.service.job.ServiceJob>
</entity-facade-xml>
